{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Container,Typography,TextField,Button,Grid,Paper}from'@material-ui/core';import{makeStyles}from'@material-ui/core/styles';import ArrowBackIcon from'@material-ui/icons/ArrowBack';import{Link}from'react-router-dom';import{toast}from'react-toastify';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const useStyles=makeStyles(theme=>({container:{marginTop:theme.spacing(6),display:'flex',flexDirection:'column',alignItems:'center'},paper:{padding:theme.spacing(4),borderRadius:theme.spacing(1),boxShadow:theme.shadows[3],maxWidth:600,width:'100%'},header:{marginBottom:theme.spacing(4),textAlign:'center'},form:{width:'100%',marginTop:theme.spacing(2)},backButton:{marginBottom:theme.spacing(2),alignSelf:'flex-start',marginLeft:-theme.spacing(4)},submitButton:{marginTop:theme.spacing(4),width:'100%'}}));const Contact=()=>{const classes=useStyles();const[user,setUser]=useState(null);const[subject,setSubject]=useState('');const[body,setBody]=useState('');const[submitted,setSubmitted]=useState(false);const[introMessage,setIntroMessage]=useState('');useEffect(()=>{const storedUser=localStorage.getItem('user');if(storedUser){setUser(JSON.parse(storedUser));}},[]);useEffect(()=>{const fetchIntroMessage=async()=>{try{const response=await fetch('/api/contact-message');if(!response.ok){const errorData=await response.json();throw new Error(errorData.error);}const data=await response.json();setIntroMessage(data.message);}catch(error){console.error('Error fetching intro message:',error);toast.error('Unable to access Contact API',{position:\"top-right\",autoClose:3000});}};fetchIntroMessage();},[]);const handleSubmit=async e=>{e.preventDefault();try{const response=await fetch('/api/contact-submit',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({name:user.firstName+' '+user.lastName,email:user.email,message:body})});if(!response.ok){const errorData=await response.json();throw new Error(errorData.error);}const data=await response.json();if(data.status==='success'){setSubmitted(true);}else{console.error('Submission failed:',data.message);}}catch(error){toast.error('Error submitting contact form',{position:\"top-right\",autoClose:3000});console.error('Error submitting contact form:',error);}};if(!user){return/*#__PURE__*/_jsx(Typography,{variant:\"body1\",children:\"Loading...\"});}if(submitted){return/*#__PURE__*/_jsx(Container,{maxWidth:\"sm\",className:classes.container,children:/*#__PURE__*/_jsxs(Paper,{className:classes.paper,children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",component:\"h1\",className:classes.header,children:\"Thank you for contacting us!\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body1\",align:\"center\",children:\"Your message has been successfully submitted. Our support team will get back to you as soon as possible.\"}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",className:classes.submitButton,component:Link,to:\"/\",children:\"Back to Home\"})]})});}return/*#__PURE__*/_jsxs(Container,{maxWidth:\"sm\",className:classes.container,children:[/*#__PURE__*/_jsx(Button,{variant:\"outlined\",startIcon:/*#__PURE__*/_jsx(ArrowBackIcon,{}),className:classes.backButton,component:Link,to:\"/\",children:\"Back\"}),/*#__PURE__*/_jsxs(Paper,{className:classes.paper,children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",component:\"h1\",className:classes.header,children:\"Contact Us\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body1\",align:\"center\",gutterBottom:true,children:introMessage}),/*#__PURE__*/_jsxs(\"form\",{className:classes.form,onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(Grid,{container:true,spacing:2,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(TextField,{name:\"subject\",label:\"Subject\",fullWidth:true,value:subject,onChange:e=>setSubject(e.target.value),variant:\"outlined\"})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(TextField,{name:\"body\",label:\"Message\",fullWidth:true,multiline:true,rows:6,value:body,onChange:e=>setBody(e.target.value),variant:\"outlined\"})})]}),/*#__PURE__*/_jsx(Button,{type:\"submit\",variant:\"contained\",color:\"primary\",className:classes.submitButton,children:\"Submit\"})]})]})]});};export default Contact;","map":{"version":3,"names":["React","useState","useEffect","Container","Typography","TextField","Button","Grid","Paper","makeStyles","ArrowBackIcon","Link","toast","jsx","_jsx","jsxs","_jsxs","useStyles","theme","container","marginTop","spacing","display","flexDirection","alignItems","paper","padding","borderRadius","boxShadow","shadows","maxWidth","width","header","marginBottom","textAlign","form","backButton","alignSelf","marginLeft","submitButton","Contact","classes","user","setUser","subject","setSubject","body","setBody","submitted","setSubmitted","introMessage","setIntroMessage","storedUser","localStorage","getItem","JSON","parse","fetchIntroMessage","response","fetch","ok","errorData","json","Error","error","data","message","console","position","autoClose","handleSubmit","e","preventDefault","method","headers","stringify","name","firstName","lastName","email","status","variant","children","className","component","align","color","to","startIcon","gutterBottom","onSubmit","item","xs","label","fullWidth","value","onChange","target","multiline","rows","type"],"sources":["/app/client/src/pages/Contact.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Container, Typography, TextField, Button, Grid, Paper } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\nimport { Link } from 'react-router-dom';\nimport {  toast } from 'react-toastify';\n\nconst useStyles = makeStyles((theme) => ({\n  container: {\n    marginTop: theme.spacing(6),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  paper: {\n    padding: theme.spacing(4),\n    borderRadius: theme.spacing(1),\n    boxShadow: theme.shadows[3],\n    maxWidth: 600,\n    width: '100%',\n  },\n  header: {\n    marginBottom: theme.spacing(4),\n    textAlign: 'center',\n  },\n  form: {\n    width: '100%',\n    marginTop: theme.spacing(2),\n  },\n  backButton: {\n    marginBottom: theme.spacing(2),\n    alignSelf: 'flex-start',\n    marginLeft: -theme.spacing(4),\n  },\n  submitButton: {\n    marginTop: theme.spacing(4),\n    width: '100%',\n  },\n}));\n\nconst Contact = () => {\n  const classes = useStyles();\n  const [user, setUser] = useState(null);\n  const [subject, setSubject] = useState('');\n  const [body, setBody] = useState('');\n  const [submitted, setSubmitted] = useState(false);\n  const [introMessage, setIntroMessage] = useState('');\n\n  useEffect(() => {\n    const storedUser = localStorage.getItem('user');\n    if (storedUser) {\n      setUser(JSON.parse(storedUser));\n    }\n  }, []);\n\n\n  useEffect(() => {\n    const fetchIntroMessage = async () => {\n      try {\n        const response = await fetch('/api/contact-message');\n        if (!response.ok) {\n          const errorData = await response.json();\n          throw new Error(errorData.error);\n        }  \n        const data = await response.json();\n        setIntroMessage(data.message);\n      } catch (error) {\n        console.error('Error fetching intro message:', error);\n        toast.error('Unable to access Contact API', {\n          position: \"top-right\",\n          autoClose: 3000,\n        });\n      }\n    };\n\n    fetchIntroMessage();\n  }, []);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    try {\n      const response = await fetch('/api/contact-submit', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          name: user.firstName + ' ' + user.lastName,\n          email: user.email,\n          message: body\n        }),\n      });\n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(errorData.error);\n      }\n      const data = await response.json();\n      if (data.status === 'success') {\n        setSubmitted(true);\n      } else {\n        console.error('Submission failed:', data.message);\n      }\n    } catch (error) {\n      toast.error('Error submitting contact form', {\n        position: \"top-right\",\n        autoClose: 3000,\n      });\n      console.error('Error submitting contact form:', error);\n    }\n  };\n\n  if (!user) {\n    return <Typography variant=\"body1\">Loading...</Typography>;\n  }\n\n  if (submitted) {\n    return (\n      <Container maxWidth=\"sm\" className={classes.container}>\n        <Paper className={classes.paper}>\n          <Typography variant=\"h4\" component=\"h1\" className={classes.header}>\n            Thank you for contacting us!\n          </Typography>\n          <Typography variant=\"body1\" align=\"center\">\n            Your message has been successfully submitted. Our support team will get back to you as soon as possible.\n          </Typography>\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            className={classes.submitButton}\n            component={Link}\n            to=\"/\"\n          >\n            Back to Home\n          </Button>\n        </Paper>\n      </Container>\n    );\n  }\n\n  return (\n    <Container maxWidth=\"sm\" className={classes.container}>\n      <Button\n        variant=\"outlined\"\n        startIcon={<ArrowBackIcon />}\n        className={classes.backButton}\n        component={Link}\n        to=\"/\"\n      >\n        Back\n      </Button>\n      <Paper className={classes.paper}>\n        <Typography variant=\"h4\" component=\"h1\" className={classes.header}>\n          Contact Us\n        </Typography>\n        <Typography variant=\"body1\" align=\"center\" gutterBottom>\n          {introMessage}\n        </Typography>\n        <form className={classes.form} onSubmit={handleSubmit}>\n          <Grid container spacing={2}>\n            <Grid item xs={12}>\n              <TextField\n                name=\"subject\"\n                label=\"Subject\"\n                fullWidth\n                value={subject}\n                onChange={(e) => setSubject(e.target.value)}\n                variant=\"outlined\"\n              />\n            </Grid>\n            <Grid item xs={12}>\n              <TextField\n                name=\"body\"\n                label=\"Message\"\n                fullWidth\n                multiline\n                rows={6}\n                value={body}\n                onChange={(e) => setBody(e.target.value)}\n                variant=\"outlined\"\n              />\n            </Grid>\n            </Grid>\n          <Button\n            type=\"submit\"\n            variant=\"contained\"\n            color=\"primary\"\n            className={classes.submitButton}\n          >\n            Submit\n          </Button>\n        </form>\n      </Paper>\n    </Container>\n  );\n};\n\nexport default Contact;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}