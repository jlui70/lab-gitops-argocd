apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

namespace: ecommerce-staging

bases:
  - ../base

# Removido nameSuffix para manter compatibilidade com nomes originais
# Os services ser√£o diferenciados apenas pelo namespace

commonLabels:
  environment: staging

# Patches para staging
patchesStrategicMerge:
  - replicas-patch.yaml
  - resources-patch.yaml
  - virtualservice-gateway-patch.yaml
apiVersion: v1
kind: ConfigMap
metadata:
  name: ecommerce-ui-version
  namespace: ecommerce-staging
data:
  APP_VERSION: "1.0"
  VERSION_TEXT: "E-commerce App v1.0"
